# Модуль статуса времени работы для Joomla 5.x YOOtheme

Модуль отображает текущий статус работы организации («открыто» / «закрыто») с учётом индивидуального графика по дням недели. Поддерживает кастомные сообщения, модальное окно с полным расписанием и корректную работу в часовой зоне Москвы.

## Основные функции

- Настройка времени открытия и закрытия для каждого дня недели (часы и минуты).
- Автоматическое определение статуса:
  - «открыто до 18:00»
  - «закрыто до завтра»
  - «закрыто до понедельника»
  - «закрыто до 9:30» (если ещё не открылись)
- Поле **«Объявление»** заменяет весь статус на произвольный текст (например, «Празднуем Новый год!»). Имеет наивысший приоритет.
- Поле **«Окончание»** добавляется только к статусамсо временем (например, «по Московскому времени»).
- Поддержка **модального окна** с полным графиком работы (опционально).
- В модальном окне **текущий день подсвечивается**:
  - `uk-text-success` — если сегодня рабочий день,
  - `uk-text-danger` — если сегодня выходной.
- Все вычисления выполняются в часовом поясе **Europe/Moscow**, независимо от настроек сервера.
- Поддержка нескольких экземпляров модуля на одной странице (каждый со своим ID).

## Установка

1. Скачайте архив [`mod_work_status.zip`](https://github.com/artimiti/mod_work_status/releases).
2. В админке Joomla перейдите: **Установка → Расширения → Загрузить и установить**.
3. Создайте новый модуль типа **«Статус времени работы»**.
4. Настройте расписание и сохраните.
5. Назначьте модуль на нужную позицию шаблона.

## Настройка

- **Пн–Вс**: поля «часы открытия», «минуты открытия», «часы закрытия», «минуты закрытия».
- **Выходной день** — оставьте все поля дня пустыми.
- **Окончание**: текст, добавляемый к статусам со временем.
- **Объявление**: текст, заменяющий весь статус.
- **Использовать модальное окно**: если включено — статус становится кликабельным и открывает полное расписание.
![Пример работы модуля](https://raw.githubusercontent.com/artimiti/mod_work_status/main/browser_J6TnOJg8Ds.png)

## Кастомизация внешнего вида

Для добавления декоративных элементов (например, метки «график») используйте **Custom CSS** в шаблоне:

```
.work-status--modal{
width: max-content;
    position: relative;
}
.work-status--modal .uk-icon{color: gray;}
.work-status--modal::after{
	content: "график";
    position: absolute;
    top: -10px;
    right: 0;
    font-size: 10px;
    padding: 0px 3px 1px 3px;
    border-radius: 3px;
    background: gray;
    color: #fff;
}
```
## Требования
- Joomla 5.x
- PHP 8.1+
- UIkit 3 (входит в YOOtheme Pro)
